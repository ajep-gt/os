---
name: fedora-hyprland
description: Hyprland Fedora image.

base-image: quay.io/fedora-ostree-desktops/base-atomic
image-version: 41 

modules:
  - type: files
    files:
      - source: system
        destination: / # copies files/system/* (* means everything inside it) into your image's root folder /

  - type: script
    scripts:
      - installrpmfusion.sh
      - rpmostreeoverride.sh

  - from-file: common-packages.yml
  - from-file: hyprland-packages.yml
  - from-file: fonts.yml

  - type: systemd
    system:
      enabled:
        - sshd.service
        - cockpit.socket
        - podman.socket
    user:
      enabled:
        - podman.socket

  - type: chezmoi
    repository: https://github.com/ajep-gt/dotfiles.git
    all-users: false # make users have to enable chezmoi manually
    file-conflict-policy: replace # override changed files with those from the repo

  - type: signing # this sets up the proper policy & signing files for signed images to work fully
